"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[507],{507:function(e,r,n){n.r(r),n.d(r,{default:function(){return p}});var t=n(861),s=n(439),i=n(757),c=n.n(i),o=n(689),a=n(87),l=n(791),u="MovieDetails_movieDetailsContainer__hxmcN",d="MovieDetails_image__c1FeV",h="MovieDetails_addInfoContainer__Rsjvd",v="MovieDetails_genresItem__HUJ-X",f=n(596),x=n(184),p=function(){var e,r,n,i=(0,o.UO)().movieID,p=(0,l.useState)({}),j=(0,s.Z)(p,2),m=j[0],_=j[1],g=(0,l.useState)("idle"),w=(0,s.Z)(g,2),b=w[0],k=w[1],U=(0,o.TH)(),D=(0,l.useRef)(null!==(e=null===(r=U.state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/movies");return(0,l.useEffect)((function(){var e=function(){var e=(0,t.Z)(c().mark((function e(){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.themoviedb.org/3","/movie/").concat(i,"?language=en-US&api_key=").concat("d25c90b85b8f344798ffe413cdb42b7f"));case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",new Error("Something went wrong"));case 6:return e.next=8,r.json();case 8:return n=e.sent,_(n),e.abrupt("return",k("resolved"));case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),f.Am.error("Ops, something went wrong!"),e.abrupt("return",k("rejected"));case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[i]),(0,x.jsxs)("div",{children:[(0,x.jsx)(a.rU,{to:D.current,children:"Go Back"}),"resolved"===b&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:u,children:[(0,x.jsx)("img",{className:d,src:"https://image.tmdb.org/t/p/w500/".concat(m.poster_path),alt:"film poster"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("h1",{children:[null!==(n=m.title)&&void 0!==n?n:m.name," (",m.release_date?m.release_date.slice(0,4):(0,x.jsx)("p",{children:"No Info"}),")"]}),(0,x.jsxs)("p",{children:["User score: ",Math.round(10*m.vote_average),"%"]}),(0,x.jsx)("h2",{children:"Overview"}),(0,x.jsx)("p",{children:m.overview}),(0,x.jsx)("h2",{children:"Genres"}),(0,x.jsx)("p",{children:m.genres&&m.genres.map((function(e){var r=e.id,n=e.name;return(0,x.jsx)("span",{className:v,children:n},r)}))})]})]}),(0,x.jsxs)("div",{className:h,children:[(0,x.jsx)("h2",{children:"Additional information"}),(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:(0,x.jsx)(a.rU,{to:"cast",children:"Cast"})}),(0,x.jsx)("li",{children:(0,x.jsx)(a.rU,{to:"reviews",children:"Reviews"})})]})]})]}),"rejected"===b&&(0,x.jsx)("h1",{children:"A problem occurs"}),(0,x.jsx)(f.Ix,{}),(0,x.jsx)(l.Suspense,{fallback:(0,x.jsx)("div",{children:"Loading..."}),children:(0,x.jsx)(o.j3,{})})]})}},861:function(e,r,n){function t(e,r,n,t,s,i,c){try{var o=e[i](c),a=o.value}catch(l){return void n(l)}o.done?r(a):Promise.resolve(a).then(t,s)}function s(e){return function(){var r=this,n=arguments;return new Promise((function(s,i){var c=e.apply(r,n);function o(e){t(c,s,i,o,a,"next",e)}function a(e){t(c,s,i,o,a,"throw",e)}o(void 0)}))}}n.d(r,{Z:function(){return s}})}}]);
//# sourceMappingURL=507.be42e56e.chunk.js.map