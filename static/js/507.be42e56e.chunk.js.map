{"version":3,"file":"static/js/507.be42e56e.chunk.js","mappings":"qPACA,EAAwC,4CAAxC,EAA4F,4BAA5F,EAA2I,uCAA3I,EAA+L,iC,kBCyG/L,EAnGqB,WAAO,IAAD,MACjBA,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA4BE,EAAAA,EAAAA,UAAS,CAAC,GAAtC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,UAAS,QAArC,eAAOG,EAAP,KAAeC,EAAf,KAEMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WA+B3D,OA1BAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAiB,mCAAG,+GAECC,MAAM,GAAD,OANlB,+BAMkB,kBACNf,EADM,mCALlB,qCAGY,WAEhBgB,EAFgB,QAKRC,GALQ,yCAMb,IAAIC,MAAM,yBANG,uBAQHF,EAASG,OARN,cAQhBC,EARgB,OAStBhB,EAAUgB,GATY,kBAUfd,EAAU,aAVK,yCAYtBe,QAAQC,IAAR,MACAC,EAAAA,GAAAA,MAAY,8BAbU,kBAcfjB,EAAU,aAdK,0DAAH,qDAkBvBQ,GACD,GAAE,CAACd,KAOF,4BACE,SAAC,KAAD,CAAMwB,GAAIf,EAAoBgB,QAA9B,qBAEY,aAAXpB,IACC,iCACE,iBAAKqB,UAAWC,EAAhB,WACE,gBACED,UAAWC,EACXC,IAAG,0CAAqCzB,EAAO0B,aAC/CC,IAAI,iBAEN,4BACE,oCACG3B,EAAO4B,aADV,QACmB5B,EAAO6B,KAD1B,KAEG7B,EAAO8B,aACN9B,EAAO8B,aAAaC,MAAM,EAAG,IAE7B,mCALJ,QASA,wCAAgBC,KAAKC,MAA4B,GAAtBjC,EAAOkC,cAAlC,QACA,sCACA,uBAAIlC,EAAOmC,YACX,oCACA,uBACGnC,EAAOoC,QACNpC,EAAOoC,OAAOC,KAAI,gBAAGC,EAAH,EAAGA,GAAIT,EAAP,EAAOA,KAAP,OAChB,iBAAeN,UAAWC,EAA1B,SACGK,GADQS,EADK,aAS1B,iBAAKf,UAAWC,EAAhB,WACE,oDACA,2BACE,yBACE,SAAC,KAAD,CAAMH,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,gCAOE,aAAXnB,IAAyB,8CAE1B,SAAC,KAAD,KACA,SAAC,EAAAqC,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C,sBCxGD,SAASC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,KAInB,CAHE,MAAOC,GAEP,YADAP,EAAOO,EAET,CAEIF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,EAEvC,CAEe,SAASS,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMc,EAAGK,MAAMJ,EAAME,GAEzB,SAASd,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,EAClE,CAEA,SAASJ,EAAOgB,GACdrB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASgB,EACnE,CAEAjB,OAAMkB,EACR,GACF,CACF,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetailsContainer\":\"MovieDetails_movieDetailsContainer__hxmcN\",\"image\":\"MovieDetails_image__c1FeV\",\"addInfoContainer\":\"MovieDetails_addInfoContainer__Rsjvd\",\"genresItem\":\"MovieDetails_genresItem__HUJ-X\"};","import { Outlet, Link, useParams, useLocation } from 'react-router-dom';\nimport { useRef, Suspense, useEffect, useState } from 'react';\nimport css from './MovieDetails.module.css';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst MovieDetails = () => {\n  const { movieID } = useParams();\n  const [movies, setMovies] = useState({});\n  const [status, setStatus] = useState('idle');\n\n  const location = useLocation();\n\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  const baseURL = 'https://api.themoviedb.org/3';\n  const API_KEY = 'd25c90b85b8f344798ffe413cdb42b7f';\n\n  useEffect(() => {\n    const fecthMovieDetails = async () => {\n      try {\n        const response = await fetch(\n          `${baseURL}/movie/${movieID}?language=en-US&api_key=${API_KEY}`\n        );\n        if (!response.ok) {\n          return new Error('Something went wrong');\n        }\n        const data = await response.json();\n        setMovies(data);\n        return setStatus('resolved');\n      } catch (error) {\n        console.log(error);\n        toast.error('Ops, something went wrong!');\n        return setStatus('rejected');\n      }\n    };\n\n    fecthMovieDetails();\n  }, [movieID]);\n\n  // Оператор \"Елвіс\" -- '?'\n  // location.state?.from ?? '/movies'\n  // Інший варіант {/* {location.state && location.state.from}\n\n  return (\n    <div>\n      <Link to={backLinkLocationRef.current}>Go Back</Link>\n\n      {status === 'resolved' && (\n        <>\n          <div className={css.movieDetailsContainer}>\n            <img\n              className={css.image}\n              src={`https://image.tmdb.org/t/p/w500/${movies.poster_path}`}\n              alt=\"film poster\"\n            />\n            <div>\n              <h1>\n                {movies.title ?? movies.name} (\n                {movies.release_date ? (\n                  movies.release_date.slice(0, 4)\n                ) : (\n                  <p>No Info</p>\n                )}\n                )\n              </h1>\n              <p>User score: {Math.round(movies.vote_average * 10)}%</p>\n              <h2>Overview</h2>\n              <p>{movies.overview}</p>\n              <h2>Genres</h2>\n              <p>\n                {movies.genres &&\n                  movies.genres.map(({ id, name }) => (\n                    <span key={id} className={css.genresItem}>\n                      {name}\n                    </span>\n                  ))}\n              </p>\n            </div>\n          </div>\n\n          <div className={css.addInfoContainer}>\n            <h2>Additional information</h2>\n            <ul>\n              <li>\n                <Link to=\"cast\">Cast</Link>\n              </li>\n              <li>\n                <Link to=\"reviews\">Reviews</Link>\n              </li>\n            </ul>\n          </div>\n        </>\n      )}\n\n      {status === 'rejected' && <h1>A problem occurs</h1>}\n\n      <ToastContainer />\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["movieID","useParams","useState","movies","setMovies","status","setStatus","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","fecthMovieDetails","fetch","response","ok","Error","json","data","console","log","toast","to","current","className","css","src","poster_path","alt","title","name","release_date","slice","Math","round","vote_average","overview","genres","map","id","Suspense","fallback","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}